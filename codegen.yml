schema: schema.json
documents:
 - "./src/graphql/**/*.js"
 - "./src/graphql/**/*.gql"
generates:
  ./src/graphql/types/index.ts:
#    Too slow when enabled
#    hooks:
#      afterOneFileWrite:
#        - eslint ./src/graphql/types/index.ts --fix
    plugins:
      - add:
          content: "/* eslint-disable @typescript-eslint/no-redeclare */"
      - typescript
      - typescript-operations
    config:
      enumsAsConst: true

  ./src/graphql/enums/index.ts:
#    hooks:
#      afterOneFileWrite:
#        - eslint ./src/graphql/enums/index.ts --fix
    plugins:
      - add:
          content: "/* eslint-disable @typescript-eslint/no-redeclare */"
      - typescript
    config:
      enumsAsConst: true
      typesPrefix: __SHOULD_NOT_USE__
      enumPrefix: false

  ./src/graphql/hooks/index.ts:
#    hooks:
#      afterOneFileWrite:
#        - eslint ./src/graphql/hooks/index.ts --fix
    plugins:
      - typescript-react-apollo
    config:
      withComponent: false
      withHOC: false
      withHooks: true
      apolloClientVersion: 3
      reactApolloVersion: 3
      importOperationTypesFrom: import('../types')

config:
  scalars:
    Time: string
    Cursor: string
  skipTypename: true
  preResolveTypes: true
  maybeValue: T | null
  avoidOptionals:
    field: true
